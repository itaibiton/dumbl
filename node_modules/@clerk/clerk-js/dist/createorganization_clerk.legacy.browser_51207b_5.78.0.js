"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["96"],{91816:function(e,t,a){a.d(t,{$:()=>$}),a(65223);var r=a(79109),i=a(83799),l=a(69144),n=a(86988),o=a(2672),s=a(70431),d=a(19460),u=a(68487),c=a(92654),h=a(53412),g=a(67263),p=a(7259),v=a(88870),m=a(36788),C=a(8969),b=a(64204),z=a(96519),Z=a(17703),f=a(88493),S=a(45727),x=a(8181),w=a(57484);let $=(0,o.withCardStateProvider)(e=>{var t,a;let $=(0,o.useCardState)(),P=(0,C.a2)({onNextStep:()=>$.setError(void 0)}),R=(0,l.useContext)(n.Hs),_=(0,i.cL)(),k=l.useRef(null),{createOrganization:T,isLoaded:A,setActive:O,userMemberships:B}=(0,i.eW)({userMemberships:w.AO.userMemberships}),{organization:I}=(0,i.o8)(),[y,F]=l.useState(),L=(0,m.Yp)("name","",{type:"text",label:(0,Z.u1)("formFieldLabel__organizationName"),placeholder:(0,Z.u1)("formFieldInputPlaceholder__organizationName")}),M=(0,m.Yp)("slug","",{type:"text",label:(0,Z.u1)("formFieldLabel__organizationSlug"),placeholder:(0,Z.u1)("formFieldInputPlaceholder__organizationSlug")}),V=!!L.value,X=async t=>{if((t.preventDefault(),V)&&A)try{var a,r;let t={name:L.value};e.hideSlug||(t.slug=M.value);let i=await T(t);if(y&&await i.setLogo({file:y}),k.current=i,await O({organization:i}),R)return void await _.__internal_navigateToTaskIfAvailable({redirectUrlComplete:R.redirectUrlComplete});if(null==(a=B.revalidate)||a.call(B),null!=(r=e.skipInvitationScreen)?r:1===i.maxAllowedMemberships)return D();P.nextStep()}catch(e){(0,v.S3)(e,[L,M],$.setError)}},D=()=>{var t,a;null==(t=e.navigateAfterCreateOrganization)||t.call(e,k.current),null==(a=e.onComplete)||a.call(e)},K=e=>{M.setValue(e)},q="organizationList"===e.flow?"subtitle":void 0;return(0,r.BX)(C.en,{...P.props,children:[(0,r.tZ)(u.Y,{headerTitle:null==e||null==(t=e.startPage)?void 0:t.headerTitle,headerSubtitle:null==e||null==(a=e.startPage)?void 0:a.headerSubtitle,headerTitleTextVariant:"h2",headerSubtitleTextVariant:q,sx:e=>({minHeight:e.sizes.$60,gap:e.space.$6,textAlign:"left"}),children:(0,r.BX)(s.l.Root,{onSubmit:X,sx:e=>({gap:e.space.$6}),children:[(0,r.tZ)(b.Col,{children:(0,r.tZ)(x.D,{organization:{name:L.value},onAvatarChange:async e=>await F(e),onAvatarRemove:y?()=>($.setIdle(),F(null)):null,avatarPreviewPlaceholder:(0,r.tZ)(h.h,{variant:"ghost","aria-label":"Upload organization logo",icon:(0,r.tZ)(b.Icon,{size:"md",icon:z.gq,sx:e=>({color:e.colors.$colorMutedForeground,transitionDuration:e.transitionDuration.$controls})}),sx:e=>({width:e.sizes.$16,height:e.sizes.$16,borderRadius:e.radii.$md,borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$dashed,borderColor:e.colors.$borderAlpha200,backgroundColor:e.colors.$neutralAlpha50,":hover":{backgroundColor:e.colors.$neutralAlpha50,svg:{transform:"scale(1.2)"}}})})})}),(0,r.tZ)(s.l.ControlRow,{elementId:L.id,children:(0,r.tZ)(s.l.PlainInput,{...L.props,onChange:e=>{L.setValue(e.target.value),K((0,p.q)(e.target.value))},isRequired:!0,autoFocus:!0,ignorePasswordManager:!0})}),!e.hideSlug&&(0,r.tZ)(s.l.ControlRow,{elementId:M.id,children:(0,r.tZ)(s.l.PlainInput,{...M.props,onChange:e=>{K(e.target.value)},isRequired:!0,pattern:"^(?=.*[a-z0-9])[a-z0-9\\-]+$",ignorePasswordManager:!0})}),(0,r.BX)(d.K,{sx:e=>({marginTop:e.space.$none}),children:[(0,r.tZ)(s.l.SubmitButton,{block:!1,isDisabled:!V,localizationKey:(0,Z.u1)("createOrganization.formButtonSubmit")}),e.onCancel&&(0,r.tZ)(s.l.ResetButton,{localizationKey:(0,Z.u1)("userProfile.formButtonReset"),block:!1,onClick:e.onCancel})]})]})}),(0,r.tZ)(u.Y,{headerTitle:(0,Z.u1)("organizationProfile.invitePage.title"),headerTitleTextVariant:"h2",headerSubtitleTextVariant:q,sx:e=>({minHeight:e.sizes.$60,textAlign:"left"}),children:I&&(0,r.tZ)(f.l,{resetButtonLabel:(0,Z.u1)("createOrganization.invitePage.formButtonReset"),onSuccess:P.nextStep,onReset:D})}),(0,r.BX)(b.Col,{children:[(0,r.tZ)(c.h.Root,{children:(0,r.tZ)(c.h.Title,{localizationKey:(0,Z.u1)("organizationProfile.invitePage.title"),sx:{textAlign:"left"}})}),(0,r.tZ)(g.I,{contents:(0,r.tZ)(S.a,{}),sx:e=>({minHeight:e.sizes.$60}),onFinish:D})]})]})})},21441:function(e,t,a){a.r(t),a.d(t,{CreateOrganization:()=>p,CreateOrganizationModal:()=>v});var r=a(79109),i=a(2672),l=a(11576),n=a(64204),o=a(24676),s=a(83799),d=a(92418),u=a(70143),c=a(91816);let h=(0,i.withCardStateProvider)(()=>{let{closeCreateOrganization:e}=(0,s.cL)(),{mode:t,navigateAfterCreateOrganization:a,skipInvitationScreen:o,hideSlug:h}=(0,l.useCreateOrganizationContext)(),g=(0,i.useCardState)(),{showDevModeNotice:p}=(0,u.n)();return(0,r.BX)(d.Z.Root,{sx:e=>({width:e.sizes.$108}),children:[(0,r.BX)(d.Z.Content,{sx:e=>({padding:"".concat(e.space.$4," ").concat(e.space.$5," ").concat(p?e.space.$12:e.space.$6)}),children:[(0,r.tZ)(d.Z.Alert,{children:g.error}),(0,r.tZ)(c.$,{skipInvitationScreen:o,startPage:{headerTitle:(0,n.localizationKeys)("createOrganization.title")},navigateAfterCreateOrganization:a,flow:"default",onComplete:()=>{"modal"===t&&e()},hideSlug:h})]}),(0,r.tZ)(d.Z.Footer,{})]})}),g=(0,l.withCoreUserGuard)(()=>(0,r.tZ)(h,{})),p=(0,i.withCardStateProvider)(()=>(0,r.tZ)(n.Flow.Root,{flow:"createOrganization",children:(0,r.tZ)(n.Flow.Part,{children:(0,r.tZ)(o.Switch,{children:(0,r.tZ)(o.Route,{children:(0,r.tZ)(g,{})})})})})),v=e=>{let t={...e,routing:"virtual",componentName:"CreateOrganization",mode:"modal"};return(0,r.tZ)(o.Route,{path:"createOrganization",children:(0,r.tZ)(l.CreateOrganizationContext.Provider,{value:t,children:(0,r.tZ)("div",{children:(0,r.tZ)(p,{})})})})}}}]);